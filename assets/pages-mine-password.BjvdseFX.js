import{_ as s,T as e,n as a,a4 as t,A as l,B as n,G as o,r as i,c as d,w as r,g as c,o as u,a as p,e as f,b as m,d as w,F as h,l as _,j as y,X as P,W as k,ab as C}from"./index-CJuH9mEN.js";import{_ as V}from"./uni-icons.LTSYGdeV.js";import{r as x}from"./uni-app.es.D-0kRCo3.js";const g=s({data:()=>({currentPassword:Array(6).fill(""),newPassword:Array(6).fill(""),confirmPassword:Array(6).fill("")}),computed:{isFormValid(){return this.currentPassword.every((s=>s))&&this.newPassword.every((s=>s))&&this.confirmPassword.every((s=>s))&&this.newPassword.join("")===this.confirmPassword.join("")}},methods:{handleCurrentInput(s){this.currentPassword[s]&&s<5&&uni.nextTick((()=>{const a=e().in(this);a.select(`input[key='current-${s+2}']`).boundingClientRect(),a.exec((s=>{s[0]&&s[0].focus()}))}))},handleNewInput(s){this.newPassword[s]&&s<5&&uni.nextTick((()=>{const a=e().in(this);a.select(`input[key='new-${s+2}']`).boundingClientRect(),a.exec((s=>{s[0]&&s[0].focus()}))}))},handleConfirmInput(s){this.confirmPassword[s]&&s<5&&uni.nextTick((()=>{const a=e().in(this);a.select(`input[key='confirm-${s+2}']`).boundingClientRect(),a.exec((s=>{s[0]&&s[0].focus()}))}))},handleForgetPassword(){a({url:"/pages/forget-password/index"})},handleBack(){t()},handleConfirm(){this.isFormValid&&(l({title:"正在修改..."}),setTimeout((()=>{n(),o({title:"支付密码修改成功",icon:"success"}),setTimeout((()=>{t()}),1500)}),1e3))}}},[["render",function(s,e,a,t,l,n){const o=x(i("uni-icons"),V),g=c,I=y,b=C,v=P,F=k;return u(),d(g,{class:"container"},{default:r((()=>[p(g,{class:"nav-bar"},{default:r((()=>[p(g,{class:"nav-left"},{default:r((()=>[p(o,{type:"arrowleft",size:"24",color:"#333",onClick:n.handleBack},null,8,["onClick"])])),_:1}),p(g,{class:"nav-title"},{default:r((()=>[f("设置支付密码")])),_:1}),p(g,{class:"nav-right"})])),_:1}),p(v,{class:"content","scroll-y":""},{default:r((()=>[p(g,{class:"security-tip"},{default:r((()=>[p(o,{type:"locked",size:"16",color:"#4CAF50"}),p(I,{class:"tip-text"},{default:r((()=>[f("您的支付密码将受到安全保护")])),_:1})])),_:1}),p(g,{class:"input-section"},{default:r((()=>[p(I,{class:"section-title"},{default:r((()=>[f("当前支付密码")])),_:1}),p(g,{class:"password-input"},{default:r((()=>[(u(),m(h,null,w(6,(s=>p(b,{key:"current-"+s,type:"password",maxlength:"1",modelValue:l.currentPassword[s-1],"onUpdate:modelValue":e=>l.currentPassword[s-1]=e,onInput:e=>n.handleCurrentInput(s-1),class:"password-cell"},null,8,["modelValue","onUpdate:modelValue","onInput"]))),64))])),_:1}),p(g,{class:"forget-password",onClick:n.handleForgetPassword},{default:r((()=>[f("忘记密码")])),_:1},8,["onClick"])])),_:1}),p(g,{class:"input-section"},{default:r((()=>[p(I,{class:"section-title"},{default:r((()=>[f("新的支付密码")])),_:1}),p(g,{class:"password-input"},{default:r((()=>[(u(),m(h,null,w(6,(s=>p(b,{key:"new-"+s,type:"password",maxlength:"1",modelValue:l.newPassword[s-1],"onUpdate:modelValue":e=>l.newPassword[s-1]=e,onInput:e=>n.handleNewInput(s-1),class:"password-cell"},null,8,["modelValue","onUpdate:modelValue","onInput"]))),64))])),_:1}),p(I,{class:"hint-text"},{default:r((()=>[f("请再次输入新的支付密码")])),_:1}),p(g,{class:"password-input"},{default:r((()=>[(u(),m(h,null,w(6,(s=>p(b,{key:"confirm-"+s,type:"password",maxlength:"1",modelValue:l.confirmPassword[s-1],"onUpdate:modelValue":e=>l.confirmPassword[s-1]=e,onInput:e=>n.handleConfirmInput(s-1),class:"password-cell"},null,8,["modelValue","onUpdate:modelValue","onInput"]))),64))])),_:1})])),_:1}),p(g,{class:"rule-tips"},{default:r((()=>[p(I,{class:"tip-title"},{default:r((()=>[f("密码规则")])),_:1}),p(I,{class:"tip-item"},{default:r((()=>[f("• 密码为6位数字")])),_:1}),p(I,{class:"tip-item"},{default:r((()=>[f("• 不能使用连续数字")])),_:1}),p(I,{class:"tip-item"},{default:r((()=>[f("• 不能使用重复数字")])),_:1})])),_:1})])),_:1}),p(g,{class:"btn-container"},{default:r((()=>[p(F,{class:_(["confirm-btn",{disabled:!n.isFormValid}]),disabled:!n.isFormValid,onClick:n.handleConfirm},{default:r((()=>[f(" 确认修改 ")])),_:1},8,["class","disabled","onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-81d8a7e2"]]);export{g as default};
