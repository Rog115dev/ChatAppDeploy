import{_ as t,T as i,r as e,o,c as a,w as m,m as n,a as s,l as r,f as c,e as l,t as f,j as g,g as j,a9 as p}from"./index-nIaQZq1w.js";import{_ as w}from"./uni-icons.DLjypYLm.js";import{r as d}from"./uni-app.es.CqmdVAE5.js";const u=t({name:"UniNoticeBar",emits:["click","getmore","close"],props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:"#FFF9EA"},speed:{type:Number,default:100},color:{type:String,default:"#FF9A43"},moreColor:{type:String,default:"#FF9A43"},single:{type:[Boolean,String],default:!1},scrollable:{type:[Boolean,String],default:!1},showIcon:{type:[Boolean,String],default:!1},showGetMore:{type:[Boolean,String],default:!1},showClose:{type:[Boolean,String],default:!1}},data:()=>({textWidth:0,boxWidth:0,wrapWidth:"",webviewHide:!1,elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,elIdBox:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,show:!0,animationDuration:"none",animationPlayState:"paused",animationDelay:"0s"}),mounted(){this.$nextTick((()=>{this.initSize()}))},methods:{initSize(){if(this.scrollable){let t=[],e=new Promise(((t,e)=>{i().in(this).select(`#${this.elId}`).boundingClientRect().exec((i=>{this.textWidth=i[0].width,t()}))})),o=new Promise(((t,e)=>{i().in(this).select(`#${this.elIdBox}`).boundingClientRect().exec((i=>{this.boxWidth=i[0].width,t()}))}));t.push(e),t.push(o),Promise.all(t).then((()=>{this.animationDuration=this.textWidth/this.speed+"s",this.animationDelay=`-${this.boxWidth/this.speed}s`,setTimeout((()=>{this.animationPlayState="running"}),1e3)}))}},loopAnimation(){},clickMore(){this.$emit("getmore")},close(){this.show=!1,this.$emit("close")},onClick(){this.$emit("click")}}},[["render",function(t,i,p,u,h,b){const y=d(e("uni-icons"),w),_=g,x=j;return h.show?(o(),a(x,{key:0,class:"uni-noticebar",style:c({backgroundColor:p.backgroundColor}),onClick:b.onClick},{default:m((()=>[!0===p.showIcon||"true"===p.showIcon?(o(),a(y,{key:0,class:"uni-noticebar-icon",type:"sound",color:p.color,size:"22"},null,8,["color"])):n("",!0),s(x,{ref:"textBox",class:r(["uni-noticebar__content-wrapper",{"uni-noticebar__content-wrapper--scrollable":p.scrollable,"uni-noticebar__content-wrapper--single":!p.scrollable&&(p.single||p.moreText)}])},{default:m((()=>[s(x,{id:h.elIdBox,class:r(["uni-noticebar__content",{"uni-noticebar__content--scrollable":p.scrollable,"uni-noticebar__content--single":!p.scrollable&&(p.single||p.moreText)}])},{default:m((()=>[s(_,{id:h.elId,ref:"animationEle",class:r(["uni-noticebar__content-text",{"uni-noticebar__content-text--scrollable":p.scrollable,"uni-noticebar__content-text--single":!p.scrollable&&(p.single||p.showGetMore)}]),style:c({color:p.color,width:h.wrapWidth+"px",animationDuration:h.animationDuration,"-webkit-animationDuration":h.animationDuration,animationPlayState:h.webviewHide?"paused":h.animationPlayState,"-webkit-animationPlayState":h.webviewHide?"paused":h.animationPlayState,animationDelay:h.animationDelay,"-webkit-animationDelay":h.animationDelay})},{default:m((()=>[l(f(p.text),1)])),_:1},8,["id","class","style"])])),_:1},8,["id","class"])])),_:1},8,["class"]),!0===p.showGetMore||"true"===p.showGetMore?(o(),a(x,{key:1,class:"uni-noticebar__more uni-cursor-point",onClick:b.clickMore},{default:m((()=>[p.moreText.length>0?(o(),a(_,{key:0,style:c({color:p.moreColor}),class:"uni-noticebar__more-text"},{default:m((()=>[l(f(p.moreText),1)])),_:1},8,["style"])):(o(),a(y,{key:1,type:"right",color:p.moreColor,size:"16"},null,8,["color"]))])),_:1},8,["onClick"])):n("",!0),!0!==p.showClose&&"true"!==p.showClose||!1!==p.showGetMore&&"false"!==p.showGetMore?n("",!0):(o(),a(x,{key:2,class:"uni-noticebar-close uni-cursor-point"},{default:m((()=>[s(y,{type:"closeempty",color:p.color,size:"16",onClick:b.close},null,8,["color","onClick"])])),_:1}))])),_:1},8,["style","onClick"])):n("",!0)}],["__scopeId","data-v-46989114"]]),h=p.apiUrl,b=[{label:"表情",type:1,name:"emoji",icon:"cuIcon-emoji",children:[{name:"1f600",title:"emoji",src:h+"/static/img/emoji/twitter/1f600.png"},{name:"1f62c",title:"emoji",src:h+"/static/img/emoji/twitter/1f62c.png"},{name:"1f601",title:"emoji",src:h+"/static/img/emoji/twitter/1f601.png"},{name:"1f602",title:"emoji",src:h+"/static/img/emoji/twitter/1f602.png"},{name:"1f923",title:"emoji",src:h+"/static/img/emoji/twitter/1f923.png"},{name:"1f973",title:"emoji",src:h+"/static/img/emoji/twitter/1f973.png"},{name:"1f974",title:"emoji",src:h+"/static/img/emoji/twitter/1f974.png"},{name:"1f979",title:"emoji",src:h+"/static/img/emoji/twitter/1f979.png"},{name:"1f603",title:"emoji",src:h+"/static/img/emoji/twitter/1f603.png"},{name:"1f604",title:"emoji",src:h+"/static/img/emoji/twitter/1f604.png"},{name:"1f605",title:"emoji",src:h+"/static/img/emoji/twitter/1f605.png"},{name:"1f606",title:"emoji",src:h+"/static/img/emoji/twitter/1f606.png"},{name:"1f607",title:"emoji",src:h+"/static/img/emoji/twitter/1f607.png"},{name:"1f608",title:"emoji",src:h+"/static/img/emoji/twitter/1f608.png"},{name:"1f609",title:"emoji",src:h+"/static/img/emoji/twitter/1f609.png"},{name:"1f60a",title:"emoji",src:h+"/static/img/emoji/twitter/1f60a.png"},{name:"1f642",title:"emoji",src:h+"/static/img/emoji/twitter/1f642.png"},{name:"1f643",title:"emoji",src:h+"/static/img/emoji/twitter/1f643.png"},{name:"1263a",title:"emoji",src:h+"/static/img/emoji/twitter/263a.png"},{name:"1f60b",title:"emoji",src:h+"/static/img/emoji/twitter/1f60b.png"},{name:"1f60c",title:"emoji",src:h+"/static/img/emoji/twitter/1f60c.png"},{name:"1f60d",title:"emoji",src:h+"/static/img/emoji/twitter/1f60d.png"},{name:"1f970",title:"emoji",src:h+"/static/img/emoji/twitter/1f970.png"},{name:"1f618",title:"emoji",src:h+"/static/img/emoji/twitter/1f618.png"},{name:"1f617",title:"emoji",src:h+"/static/img/emoji/twitter/1f617.png"},{name:"1f619",title:"emoji",src:h+"/static/img/emoji/twitter/1f619.png"},{name:"1f61a",title:"emoji",src:h+"/static/img/emoji/twitter/1f61a.png"},{name:"1f61c",title:"emoji",src:h+"/static/img/emoji/twitter/1f61c.png"},{name:"1f92a",title:"emoji",src:h+"/static/img/emoji/twitter/1f92a.png"},{name:"1f928",title:"emoji",src:h+"/static/img/emoji/twitter/1f928.png"},{name:"1f9d0",title:"emoji",src:h+"/static/img/emoji/twitter/1f9d0.png"},{name:"1f61d",title:"emoji",src:h+"/static/img/emoji/twitter/1f61d.png"},{name:"1f61b",title:"emoji",src:h+"/static/img/emoji/twitter/1f61b.png"},{name:"1f911",title:"emoji",src:h+"/static/img/emoji/twitter/1f911.png"},{name:"1f913",title:"emoji",src:h+"/static/img/emoji/twitter/1f913.png"},{name:"1f60e",title:"emoji",src:h+"/static/img/emoji/twitter/1f60e.png"},{name:"1f929",title:"emoji",src:h+"/static/img/emoji/twitter/1f929.png"},{name:"1f921",title:"emoji",src:h+"/static/img/emoji/twitter/1f921.png"},{name:"1f920",title:"emoji",src:h+"/static/img/emoji/twitter/1f920.png"},{name:"1f917",title:"emoji",src:h+"/static/img/emoji/twitter/1f917.png"},{name:"1f60f",title:"emoji",src:h+"/static/img/emoji/twitter/1f60f.png"},{name:"1f636",title:"emoji",src:h+"/static/img/emoji/twitter/1f636.png"},{name:"1f610",title:"emoji",src:h+"/static/img/emoji/twitter/1f610.png"},{name:"1f611",title:"emoji",src:h+"/static/img/emoji/twitter/1f611.png"},{name:"1f612",title:"emoji",src:h+"/static/img/emoji/twitter/1f612.png"},{name:"1f644",title:"emoji",src:h+"/static/img/emoji/twitter/1f644.png"},{name:"1f914",title:"emoji",src:h+"/static/img/emoji/twitter/1f914.png"},{name:"1f925",title:"emoji",src:h+"/static/img/emoji/twitter/1f925.png"},{name:"1f927",title:"emoji",src:h+"/static/img/emoji/twitter/1f927.png"},{name:"1f928",title:"emoji",src:h+"/static/img/emoji/twitter/1f928.png"},{name:"1f929",title:"emoji",src:h+"/static/img/emoji/twitter/1f929.png"},{name:"1f92d",title:"emoji",src:h+"/static/img/emoji/twitter/1f92d.png"},{name:"1f92b",title:"emoji",src:h+"/static/img/emoji/twitter/1f92b.png"},{name:"1f92c",title:"emoji",src:h+"/static/img/emoji/twitter/1f92c.png"},{name:"1f92f",title:"emoji",src:h+"/static/img/emoji/twitter/1f92f.png"},{name:"1f633",title:"emoji",src:h+"/static/img/emoji/twitter/1f633.png"},{name:"1f61e",title:"emoji",src:h+"/static/img/emoji/twitter/1f61e.png"},{name:"1f61f",title:"emoji",src:h+"/static/img/emoji/twitter/1f61f.png"},{name:"1f620",title:"emoji",src:h+"/static/img/emoji/twitter/1f620.png"},{name:"1f621",title:"emoji",src:h+"/static/img/emoji/twitter/1f621.png"},{name:"1fae0",title:"emoji",src:h+"/static/img/emoji/twitter/1fae0.png"},{name:"1fae1",title:"emoji",src:h+"/static/img/emoji/twitter/1fae1.png"},{name:"1fae2",title:"emoji",src:h+"/static/img/emoji/twitter/1fae2.png"},{name:"1fae3",title:"emoji",src:h+"/static/img/emoji/twitter/1fae3.png"},{name:"1fae4",title:"emoji",src:h+"/static/img/emoji/twitter/1fae4.png"},{name:"1fae5",title:"emoji",src:h+"/static/img/emoji/twitter/1fae5.png"},{name:"1faf0",title:"emoji",src:h+"/static/img/emoji/twitter/1faf0.png"},{name:"2639",title:"emoji",src:h+"/static/img/emoji/twitter/2639.png"},{name:"263a",title:"emoji",src:h+"/static/img/emoji/twitter/263a.png"}]},{label:"收藏",type:2,name:"favors",icon:"cuIcon-like",children:[]}];export{u as _,b as e};
