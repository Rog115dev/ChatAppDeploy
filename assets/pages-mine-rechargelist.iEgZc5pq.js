import{_ as s}from"./uni-icons.u6lZObLY.js";import{_ as e,C as t,r as a,b as r,a as i,w as l,F as o,g as c,o as d,e as n,c as h,d as f,X as u,t as g,l as _,m}from"./index-37Su0qRO.js";import{r as p}from"./uni-app.es.D58nOoD0.js";const y=e({data:()=>({page:1,limit:20,last_id:0,records:[],isRefreshing:!1}),onLoad(){this.getList()},methods:{getList(){this.$api.msgApi.rechargeList({page:this.page,limit:this.limit,last_id:this.last_id}).then((s=>{0==s.code&&s.data.data.length>0&&(this.records=[...this.records,...s.data.data],this.records.length>0&&(this.last_id=this.records[this.records.length-1].id))}))},getStatusText:s=>["处理中","充值成功","充值失败"][s],onRefresh(){this.isRefreshing=!0,this.records=[],this.last_id=0,this.getList(),setTimeout((()=>{this.isRefreshing=!1}),1e3)},loadMore(){this.getList()}}},[["render",function(e,y,R,k,x,L){const b=t("cu-custom"),S=p(a("uni-icons"),s),T=c,j=u;return d(),r(o,null,[i(b,{bgColor:"bg-gradual-green",isBack:!0},{backText:l((()=>[])),content:l((()=>[n("充值记录")])),right:l((()=>[])),_:1}),i(T,{class:"container"},{default:l((()=>[i(j,{class:"content","scroll-y":"","refresher-enabled":"","refresher-triggered":x.isRefreshing,onRefresherrefresh:L.onRefresh,onScrolltolower:L.loadMore},{default:l((()=>[0===x.records.length?(d(),h(T,{key:0,class:"empty-state"},{default:l((()=>[i(S,{type:"spinner-cycle",size:"60",color:"#999"}),i(T,{class:"empty-text"},{default:l((()=>[n("暂无充值记录")])),_:1})])),_:1})):(d(),h(T,{key:1,class:"record-list"},{default:l((()=>[(d(!0),r(o,null,f(x.records,((s,e)=>(d(),h(T,{key:e,class:"record-card"},{default:l((()=>[i(T,{class:"card-content"},{default:l((()=>[i(T,{class:"left-content"},{default:l((()=>[i(T,{class:"amount"},{default:l((()=>[n("¥"+g(s.money),1)])),_:2},1024),i(T,{class:"time"},{default:l((()=>[n(g(s.create_time),1)])),_:2},1024)])),_:2},1024),i(T,{class:_(["status",`status-${s.status}`])},{default:l((()=>[n(g(L.getStatusText(s.status))+" ",1),2==s.status?(d(),h(T,{key:0,class:"reason"},{default:l((()=>[n(g(s.remark),1)])),_:2},1024)):m("",!0)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}))])),_:1},8,["refresher-triggered","onRefresherrefresh","onScrolltolower"])])),_:1})],64)}],["__scopeId","data-v-9af68496"]]);export{y as default};
