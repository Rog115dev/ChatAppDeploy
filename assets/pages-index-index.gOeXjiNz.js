import{_ as e,n as t,r as s,o as a,c as l,w as i,a as o,b as n,d as c,F as u,e as d,f as r,i as m,S as g,g as f,t as p,h,j as C,k as A,l as k,m as _,u as y,s as v,p as I,q as w,$ as b,v as Q,x as S,y as x,z as E,A as B,B as N,C as T,D as j,E as P,G as D,H as R,I as G,J as M,K as J,L as z}from"./index-CDOpH1f_.js";import{_ as Z}from"./uni-icons.QhmNVcfb.js";import{r as F}from"./uni-app.es.DwBKReRU.js";import{_ as Y}from"./uni-popup-dialog.BiVXc6F_.js";import{_ as O}from"./uni-popup.CzDYXpcs.js";import{e as U,_ as K}from"./emoji.Cl2iKxce.js";import{_ as X}from"./mp-html.CnUIoUfV.js";import{s as L}from"./status.BmvdSoJv.js";import H from"./pages-contacts-index.CoR0TJZe.js";import{s as V}from"./scan.C4e6rg5_.js";import{_ as W}from"./shield-line.D0ecq-vU.js";import{_ as q}from"./img_avatar_default.DQbk7cmi.js";import $ from"./pages-mall-index.CC9zWLwu.js";import"./breadcrum.Cqxo9PB4.js";import"./points.Cjn_DYqU.js";const ee=e({data:()=>({swiper:[],news:[],rules:[]}),mounted(){this.initData()},methods:{initData(){this.$api.homeApi.getSwiper({}).then((e=>{0==e.code?this.$nextTick((()=>{this.swiper=e.data})):this.swiper=[]})),this.$api.homeApi.getNewsList({type:"最新动态"}).then((e=>{0==e.code?this.$nextTick((()=>{this.news=e.data})):this.news=[]})),this.$api.homeApi.getRulesList({}).then((e=>{0==e.code?this.$nextTick((()=>{this.rules=e.data})):this.rules=[]}))},goPage(e){t({url:e})}}},[["render",function(e,t,A,k,_,y){const v=m,I=h,w=g,b=f,Q=F(s("uni-icons"),Z),S=C;return a(),l(b,{class:"app-container",style:r([{paddingBottom:`${e.CustomBar+e.inlineTools+e.StatusBar}px`}])},{default:i((()=>[o(b,{class:"swiper-wrapper"},{default:i((()=>[o(w,{class:"swiper",circular:"","indicator-dots":!0,autoplay:!0},{default:i((()=>[(a(!0),n(u,null,c(_.swiper,((e,t)=>(a(),l(I,{key:e.id},{default:i((()=>[o(v,{src:e.img},null,8,["src"])])),_:2},1024)))),128))])),_:1})])),_:1}),o(b,{class:"card-menu"},{default:i((()=>[o(b,{class:"card-menu-item",onClick:t[0]||(t[0]=e=>y.goPage("/pages/news/list?type=1"))},{default:i((()=>[o(v,{src:"/assets/zhubo-BSRySpTp.jpg"})])),_:1}),o(b,{class:"card-menu-item",onClick:t[1]||(t[1]=e=>y.goPage("/pages/news/list?type=2"))},{default:i((()=>[o(v,{src:"/assets/yanyaun-Dh6NIuCa.jpg"})])),_:1})])),_:1}),o(b,{class:"start-title"},{default:i((()=>[o(Q,{type:"fire-filled",color:"#f2cd77",size:"26"}),d(" 最新活动细则 ")])),_:1}),o(b,{class:"rule-wrapper"},{default:i((()=>[(a(!0),n(u,null,c(_.rules,(e=>(a(),l(b,{class:"rule-item",key:e.id,onClick:t=>y.goPage(`/pages/rules/details?id=${e.id}`)},{default:i((()=>[o(v,{src:e.img},null,8,["src"]),o(S,null,{default:i((()=>[d(p(e.title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),o(b,{class:"start-title"},{default:i((()=>[o(Q,{type:"fire-filled",color:"#f2cd77",size:"26"}),d(" 最新动态 ")])),_:1}),o(b,{class:"news-wrapper"},{default:i((()=>[(a(!0),n(u,null,c(_.news,(e=>(a(),l(b,{class:"news-item",key:e.id,onClick:t=>y.goPage(`/pages/news/detail?id=${e.id}`)},{default:i((()=>[o(S,null,{default:i((()=>[d(p(e.title),1)])),_:2},1024),o(S,null,{default:i((()=>[d(p(e.create_time),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["style"])}],["__scopeId","data-v-eb6a1664"]]);const te=e({data:()=>({webviewStyles:{cache:"always",preload:!0},currentWebview:null}),mounted(){this.init()},methods:{init(){}}},[["render",function(e,t,s,n,c,u){const d=A,r=f;return a(),l(r,{class:"app-container"},{default:i((()=>[o(d,{src:"http://47.100.160.17:8088/"})])),_:1})}]]);const se=e({name:"im-tab",components:{},props:{values:{type:Array,default:function(){return[]}},height:{type:Number,default:72}},data:()=>({active:0,itemHeight:48}),created:function(){this.itemHeight=this.height-16},methods:{changeItem(e,t){this.active=t,this.$emit("change",e,t)}}},[["render",function(e,t,s,m,g,h){const A=C,y=f;return a(),l(y,{class:"tab-main im-flex im-justify-content-start im-align-items-center",style:r({height:s.height+"rpx",borderRadius:s.height/2+"rpx"})},{default:i((()=>[(a(!0),n(u,null,c(s.values,((e,t)=>(a(),l(y,{class:k(["tab-item",g.active==t?"active":""]),onClick:s=>h.changeItem(e,t),style:r({height:g.itemHeight+"rpx",borderRadius:g.itemHeight/2+"rpx",lineHeight:g.itemHeight+"rpx"}),key:t},{default:i((()=>[d(p(e.name)+" ",1),e.count>0?(a(),l(A,{key:0},{default:i((()=>[d(p(e.count>99?"99+":e.count),1)])),_:2},1024)):_("",!0),o(y,{class:k(g.active==t?"lead":"")},null,8,["class"])])),_:2},1032,["class","onClick","style"])))),128))])),_:1},8,["style"])}],["__scopeId","data-v-5963a999"]]),ae=y(v),{contacts:le,unread:ie,msgAt:oe}=I(ae),ne=w(v),{multiport:ce}=I(ne);const ue=e({components:{statusPoint:L,imTab:se},data:()=>({navCurrent:0,msgs:le,pageLoading:!0,multiport:ce,socketStatus:!0,damping:.29,moveIndex:-1,touchStart:!1,modalName:null,listTouchStart:0,listTouchDirection:null,emojiMap:[],chatStatus:!0,paddingB:0,msgAt:ae.msgAt,appSetting:ne.appSetting,globalConfig:ne.globalConfig,active:0,triggered:!0,noticeContent:{},values:[{id:1,name:"所有",count:0},{id:2,name:"未读",count:ie},{id:3,name:"@我",count:oe}]}),computed:{msgsIn(){let e=this.active,t=[];return t=1==e?this.msgs.filter((e=>e.unread>0)):2==e?this.msgs.filter((e=>e.is_at>0)):this.msgs.filter((e=>e.lastContent)),setTimeout((()=>{let e=this.msgs;e.findIndex((e=>"admin_notice"===e.id))>=0&&e.find((e=>"admin_notice"===e.id)).unread>0&&this.getNotice()})),t}},mounted(){this.moveIndex=-1,this.getNotice(),b("socketStatus",(e=>{e||(this.multiport=!1),this.socketStatus=e}))},created:function(){let e=[];U.forEach((function(t){let s=t.children;s.length>0&&s.forEach((function(t){let s=t.name,a=t.src;e[s]=a}))})),this.emojiMap=e,this.paddingB=this.inlineTools},methods:{initContacts(){Q("initContacts",!0),this.triggered=!0,setTimeout((()=>{this.triggered=!1}),1e3)},getNotice(){this.$api.msgApi.getAdminNotice().then((e=>{if(0==e.code){let t=e.data;S("notice_"+t.create_time)||(this.noticeContent=e.data)}}))},closeNotice(){x("notice_"+this.noticeContent.create_time,this.noticeContent)},changeChat(e,t){this.active=t},btnTap:function(e,t){0==e?(t.is_top=0==t.is_top?1:0,this.$api.msgApi.setChatTopAPI({id:t.id,is_top:t.is_top,is_group:t.is_group}).then((e=>{0==e.code&&ae.updateContacts(t)}))):1==e?E({title:"确定要删除吗?",success:e=>{e.confirm&&this.$api.msgApi.delChatAPI({id:t.id,is_group:t.is_group}).then((e=>{if(0==e.code){let e=JSON.parse(JSON.stringify(t));e.lastContent="",e.type&&delete e.type,ae.updateContacts(e)}}))}}):2==e&&(t.is_notice=0==t.is_notice?1:0,this.$api.msgApi.isNoticeAPI({id:t.id,is_notice:t.is_notice,is_group:t.is_group}).then((e=>{0==e.code&&ae.updateContacts(t)})))},reconnect(){B({title:"重连中..."}),this.socketIo.connectSocketInit({type:"ping"}),setTimeout((()=>{N()}),1500)},emojiToHtml(e){if(!e)return;let t=this.emojiMap;return e.replace(/\[!(\w+)\]/gi,(function(e,s){var a=s;return t[a]?'<img class=\'mr-5\' style="width:18px;height:18px" emoji-name="'.concat(s,'" src="').concat(t[a],'" />'):"[!".concat(s,"]")}))},ListTouchStart(e){this.listTouchStart=e.touches[0].pageX},ListTouchMove(e){let t=e.touches[0].pageX-this.listTouchStart;Math.abs(t)>100&&t<0?this.listTouchDirection="left":this.listTouchDirection="right"},ListTouchEnd(e){"left"==this.listTouchDirection?(this.modalName=e.currentTarget.dataset.target,this.chatStatus=!1):this.modalName=null,this.listTouchDirection=null},openChat(e){this.chatStatus?t({url:"/pages/message/chat?id="+e,animationType:"slide-in-right"}):this.chatStatus=!0},from_time(e){return this.$util.timeFormat(e)}}},[["render",function(e,t,m,g,h,A){const y=T("im-tab"),v=f,I=F(s("uni-notice-bar"),K),w=F(s("mp-html"),X),b=C,Q=T("Empty");return a(),l(v,null,{default:i((()=>[o(v,{class:"pr-10 pl-10 text-gray bg-video im-flex im-space-between im-align-items-center cu-bar fixed",style:r([{top:e.CustomBar+"px"}])},{default:i((()=>[o(y,{class:"mr-10",values:h.values,onChange:A.changeChat},null,8,["values","onChange"]),h.socketStatus?_("",!0):(a(),l(v,{key:0,class:"socket-status pd-5 im-flex justify-between im-align-items-center radius-10 im-flex1"},{default:i((()=>[o(v,{class:"cuIcon-infofill text-red f-18"}),o(v,{class:"c-666 f-12"},{default:i((()=>[d("通信断开")])),_:1}),o(v,{class:"cuIcon-refresh",onClick:t[0]||(t[0]=e=>A.reconnect())})])),_:1}))])),_:1},8,["style"]),o(v,{class:"im-message-list",style:r([{"margin-top":"100rpx"},{height:`calc(${e.safeHeight}px - ${e.CustomBar}px - 100upx)`}])},{default:i((()=>[h.noticeContent.title?(a(),l(I,{key:0,speed:60,"show-icon":"",scrollable:"",showClose:"",text:h.noticeContent.title,style:{margin:"0"},onClick:t[1]||(t[1]=e=>A.openChat("admin_notice")),onClose:A.closeNotice},null,8,["text","onClose"])):_("",!0),A.msgsIn.length>0?(a(),l(v,{key:1,class:"cu-list menu-avatar",style:r({paddingBottom:h.paddingB+"px"})},{default:i((()=>[(a(!0),n(u,null,c(A.msgsIn,((e,t)=>(a(),l(v,{class:k(["cu-item second",[h.modalName=="move-box-"+t?"move-cur":"",1==e.is_top?"top-contacts":""]]),key:t,onTouchstart:A.ListTouchStart,onTouchmove:A.ListTouchMove,onTouchend:A.ListTouchEnd,onClick:t=>A.openChat(e.id),"data-target":"move-box-"+t},{default:i((()=>[o(v,{class:k(["cu-avatar lg",h.appSetting.circleAvatar?"round":"radius"]),style:r([{backgroundImage:"url("+e.avatar+")"}])},{default:i((()=>[!e.is_group&&e.is_online?(a(),l(v,{key:0,class:"online-status"})):_("",!0)])),_:2},1032,["class","style"]),o(v,{class:"content"},{default:i((()=>[o(v,{class:"c-f2cd77"},{default:i((()=>[o(v,{class:"text-overflow f-16",style:{width:"80%"}},{default:i((()=>[d(p(e.displayName),1)])),_:2},1024)])),_:2},1024),o(v,{class:"im-flex im-justify-content-start im-align-items-center lh-20x",style:{height:"50rpx",overflow:"hidden"}},{default:i((()=>[e.is_at&&e.unread>0?(a(),l(v,{key:0,class:"text-red f-12 mr-5"},{default:i((()=>[d("[有"+p(e.is_at)+"人@我] ",1)])),_:2},1024)):_("",!0),o(w,{content:A.emojiToHtml(e.lastContent),class:"im-flex f-12 text-gray text-overflow no-click"},null,8,["content"])])),_:2},1024)])),_:2},1024),o(v,{class:"action"},{default:i((()=>[o(v,{class:"text-grey text-xs timeS"},{default:i((()=>[d(p(A.from_time(e.lastSendTime)),1)])),_:2},1024),e.unread>0?(a(),l(v,{key:0,class:k(["cu-tag round sm",e.is_notice?"bg-red":"bg-notremind"])},{default:i((()=>[d(p(e.unread),1)])),_:2},1032,["class"])):_("",!0),0==e.is_notice&&0==e.unread?(a(),l(v,{key:1,class:"c-999"},{default:i((()=>[o(b,{class:"cuIcon-musicforbidfill"})])),_:1})):_("",!0)])),_:2},1024),o(v,{class:"move second"},{default:i((()=>[1==e.is_top?(a(),l(v,{key:0,class:"bg-grey",onClick:t=>A.btnTap(0,e)},{default:i((()=>[d("取消置顶")])),_:2},1032,["onClick"])):(a(),l(v,{key:1,class:"bg-blue",onClick:t=>A.btnTap(0,e)},{default:i((()=>[d("置顶聊天")])),_:2},1032,["onClick"])),1==e.is_notice?(a(),l(v,{key:2,class:"bg-orange",onClick:t=>A.btnTap(2,e)},{default:i((()=>[d("免扰")])),_:2},1032,["onClick"])):(a(),l(v,{key:3,class:"bg-orange",onClick:t=>A.btnTap(2,e)},{default:i((()=>[d("取消免扰")])),_:2},1032,["onClick"])),o(v,{class:"bg-red",onClick:t=>A.btnTap(1,e)},{default:i((()=>[d("删除")])),_:2},1032,["onClick"])])),_:2},1024),o(v,{class:"deliver"})])),_:2},1032,["class","onTouchstart","onTouchmove","onTouchend","onClick","data-target"])))),128))])),_:1},8,["style"])):(a(),l(Q,{key:2,noDatatext:"暂无聊天",textcolor:"#999"}))])),_:1},8,["style"])])),_:1})}],["__scopeId","data-v-4f8d0b88"]]),de=w(v);const re=e({data(){return{isCard:!0,userInfo:de.userInfo,paddingB:0,CustomBar:this.CustomBar,bottom:0,isIos:!1,iosApp:["kwai://"],andApp:["snssdk1128://"]}},computed:{src:()=>de.globalConfig.compass.list[0].url,pageName:()=>de.globalConfig.compass.list[0].name,compass:()=>de.globalConfig.compass,webViewHeight:()=>j().windowHeight-P(101)},mounted:function(){this.paddingB=this.inlineTools;let e=j(),t=e.windowHeight-e.screenHeight;this.bottom=P(100)+t/2},methods:{openApp(e){let s=e.url;1!=e.type&&2!=e.type||(2==e.type&&(s="/pages/mine/webview?title="+e.name+"&src="+encodeURIComponent(e.url)),t({url:s}))}}},[["render",function(e,t,s,r,g,h){const A=m,y=C,v=f;return a(),l(v,null,{default:i((()=>[1==h.compass.mode?(a(),l(v,{key:0,class:k(["cu-list menu",["sm-border","cmargin-top"]])},{default:i((()=>[(a(!0),n(u,null,c(h.compass.list,((e,t)=>(a(),l(v,{class:k(["cu-item","arrow"]),key:t,onClick:t=>h.openApp(e)},{default:i((()=>[o(v,{class:"content"},{default:i((()=>[o(A,{src:e.icon,class:"png",mode:"aspectFit"},null,8,["src"]),o(y,{class:"text-grey"},{default:i((()=>[d(p(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):_("",!0),2==h.compass.mode?(a(),l(v,{key:1,class:k(["cu-list grid",["col-3"," margin-top"]])},{default:i((()=>[(a(!0),n(u,null,c(h.compass.list,((e,t)=>(a(),l(v,{class:"cu-item-wrapper",key:t,onClick:t=>h.openApp(e)},{default:i((()=>[o(v,{class:"cu-item"},{default:i((()=>[o(v,null,{default:i((()=>[o(A,{src:e.icon,style:{height:"100rpx",width:"100rpx"}},null,8,["src"]),0!=e.badge?(a(),l(v,{key:0,class:"cu-tag badge"},{default:i((()=>[1!=e.badge?(a(),n(u,{key:0},[d(p(e.badge>99?"99+":e.badge),1)],64)):_("",!0)])),_:2},1024)):_("",!0)])),_:2},1024),o(y,null,{default:i((()=>[d(p(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):_("",!0)])),_:1})}],["__scopeId","data-v-21456760"]]),me=w(v);const ge=e({data:()=>({loginStore:me,globalConfig:me.globalConfig,appSetting:me.appSetting,versionCode:"",verisonName:"",joinMoney:0,level:{}}),mounted(){this.getUserLevel()},methods:{goTeam(){"0"!==this.level.level?t({url:"/pages/team/index"}):D({title:"请先使命认证",icon:"none"})},getUserLevel(){this.$api.levelApi.userLevel().then((e=>{this.level=e.data}))},goPage(e){"开发中，敬请期待"!==e?t({url:e}):D({title:e,icon:"none"})},logout(){let e=S("client_id");this.$api.LoginApi.logout({client_id:e}).then((e=>{0==e.code&&me.logout()}))},about(){this.globalConfig&&this.globalConfig.demon_mode,t({url:"/pages/mine/about"})},showSetting(){t({url:"/pages/mine/setting"})},showsecure(){t({url:"/pages/mine/secure"})},showDoc(){t({url:"/pages/mine/doc"})},copyCode(){R({data:me.userInfo.inviteCode,success:function(){D({title:"复制邀请码成功",icon:"none"})}})},editInfo(){t({url:"/pages/mine/profile"})},scan(){V.scanQr()},money(){t({url:"/pages/mine/money"})},openQr(){t({url:"/pages/index/qrcode"})},checkVersion(){appUpdate(!0)}}},[["render",function(e,t,n,c,u,g){const h=f,A=m,y=F(s("uni-icons"),Z),v=C;return a(),l(h,{class:"ctn",style:r({height:`calc(${e.safeHeight}px - ${e.CustomBar}px)`})},{default:i((()=>[o(h,{class:"padding flex im-space-between im-align-items-center mb-10 pt-30 pb-30"},{default:i((()=>[o(h,{class:"flex justify-start",onClick:t[0]||(t[0]=e=>g.editInfo())},{default:i((()=>[o(h,{class:k(["mr-15",{"avatar-wrapper":1===u.loginStore.userInfo.in_plan}])},{default:i((()=>[o(h,{class:k(["cu-avatar lg",u.appSetting.circleAvatar?"round":"radius"]),style:r([{backgroundImage:"url("+u.loginStore.userInfo.avatar+")"}])},null,8,["class","style"])])),_:1},8,["class"]),o(h,{class:"im-flex im-justify-content-start im-columns mt-5"},{default:i((()=>[o(h,{class:"mb-5 f-18 im-flex im-align-items-center"},{default:i((()=>[o(h,{class:"c-f2cd77 realnameS"},{default:i((()=>[d(p(u.loginStore.userInfo.realname),1)])),_:1})])),_:1}),o(h,{class:"accountS"},{default:i((()=>[d(p(u.loginStore.userInfo.account),1)])),_:1})])),_:1})])),_:1}),o(h,{class:"codeS im-flex im-justify-content-center im-align-items-center",onClick:g.openQr},{default:i((()=>[o(A,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAXVJREFUWEftV9F1gzAMPG3RTZItmk6TjtBtkm7Qz2SLfmYL9YkHPGHkREZAw4v5NLZ1vrPkE+HJP3pyfKgAowptk0Fm5gknPxDRt6xj5gOAU+keRDQizGSwAsxQO5XBLwCXzJ5nNX5PYpHc+vYAPrsfUwH2gdMIyVXIArQCW3c1BNACUwIwTRwBY42lJHiSpGGmAgQQlfhd0X8loluhxG8AdiohRJVBvQwBtFKwBGBm/SwAvQ9CfUl6prbw1OmE8ErcJE5bgAcJ4d2gMxt6/jbtlvfEa8zLvSRLSHwjomt3KGYexXBLvFCSnInoQwEcmeKphdqr5KM6+LoAw37QkiDnESN2q8QsiFM+JsGkNsp48y0BUF/qrEfMXViPczGZ9rqUEsNqtAbSgnYMNj1Oa4IHTOss75leCeCI/dl7Eu9BrMDJ2qLmytOTzNF26vb0B8BvC3qWtjNcqHXGMrPcR7NP/reX5PUAejVdY141rFGWK4NRBv8AwGDAOHzmyhUAAAAASUVORK5CYII=",mode:"widthFix"})])),_:1},8,["onClick"])])),_:1}),o(h,{class:"card-title"},{default:i((()=>[o(y,{type:"more-filled",size:"26",color:"#f2cd77",onClick:t[1]||(t[1]=t=>e.modelName="add")}),o(v,null,{default:i((()=>[d("我的等级")])),_:1}),o(y,{type:"more-filled",size:"26",color:"#f2cd77",onClick:t[2]||(t[2]=t=>e.modelName="add")})])),_:1}),u.level.level||"0"===u.level.level?(a(),l(h,{key:0,class:"level-wrapper"},{default:i((()=>[o(h,{class:"level",onClick:g.goTeam},{default:i((()=>["0"!==u.level.level?(a(),l(h,{key:0,class:"level-row"},{default:i((()=>[o(h,{class:"level-row-title"},{default:i((()=>[d("当前等级：")])),_:1}),o(h,{class:"level-row-content"},{default:i((()=>[o(A,{src:u.level.logo},null,8,["src"]),o(v,null,{default:i((()=>[d(p(u.level.level),1)])),_:1})])),_:1})])),_:1})):(a(),l(h,{key:1,class:"level-row"},{default:i((()=>[o(h,{class:"level-row-title"},{default:i((()=>[d("当前等级：")])),_:1}),o(h,{class:"level-row-content"},{default:i((()=>[o(v,null,{default:i((()=>[d("请先实名")])),_:1})])),_:1})])),_:1})),o(h,{class:"level-row"},{default:i((()=>[o(h,{class:"level-row-title"},{default:i((()=>[d("直推人数：")])),_:1}),o(h,{class:"level-row-content"},{default:i((()=>[d(p(u.level.direct_count)+"人 ",1)])),_:1})])),_:1}),o(h,{class:"level-row"},{default:i((()=>[o(h,{class:"level-row-title"},{default:i((()=>[d("团队总人数：")])),_:1}),o(h,{class:"level-row-content"},{default:i((()=>[d(p(u.level.total_count)+"人 ",1)])),_:1})])),_:1})])),_:1},8,["onClick"])])),_:1})):_("",!0),o(h,{class:"card-title"},{default:i((()=>[o(y,{type:"more-filled",size:"26",color:"#f2cd77",onClick:t[3]||(t[3]=t=>e.modelName="add")}),o(v,null,{default:i((()=>[d("应用中心")])),_:1}),o(y,{type:"more-filled",size:"26",color:"#f2cd77",onClick:t[4]||(t[4]=t=>e.modelName="add")})])),_:1}),o(h,{class:"menu-wrapper"},{default:i((()=>[o(h,{class:"cu-list menu"},{default:i((()=>[o(h,{class:"cu-item",onClick:g.money},{default:i((()=>[o(h,{class:"content"},{default:i((()=>[o(A,{src:W,mode:"widthFix"}),o(v,null,{default:i((()=>[d("我的钱包")])),_:1})])),_:1})])),_:1},8,["onClick"]),o(h,{class:"cu-item",onClick:g.scan},{default:i((()=>[o(h,{class:"content"},{default:i((()=>[o(A,{src:"data:image/png;base64,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",mode:"widthFix"}),o(v,null,{default:i((()=>[d("扫一扫")])),_:1})])),_:1})])),_:1},8,["onClick"]),o(h,{class:"cu-item",onClick:g.showSetting},{default:i((()=>[o(h,{class:"content"},{default:i((()=>[o(A,{src:"/assets/icon_settings-CF5AVt-A.png",mode:"widthFix"}),o(v,null,{default:i((()=>[d("通用设置")])),_:1})])),_:1})])),_:1},8,["onClick"]),o(h,{class:"cu-item",onClick:g.showsecure},{default:i((()=>[o(h,{class:"content"},{default:i((()=>[o(A,{src:"/assets/shield-BWzdcZuk.png",mode:"widthFix"}),o(v,null,{default:i((()=>[d("账号安全")])),_:1})])),_:1})])),_:1},8,["onClick"]),o(h,{class:"cu-item",onClick:t[5]||(t[5]=e=>g.goPage("/pages/auth/index"))},{default:i((()=>[o(h,{class:"content"},{default:i((()=>[o(A,{src:"/assets/auth-Cy8D2lh6.png",mode:"widthFix"}),o(v,null,{default:i((()=>[d("实名认证")])),_:1})])),_:1})])),_:1}),o(h,{class:"cu-item",onClick:g.showDoc},{default:i((()=>[o(h,{class:"content"},{default:i((()=>[o(A,{src:"/assets/question-CKsm6sGv.png",mode:"widthFix"}),o(v,null,{default:i((()=>[d("帮助中心")])),_:1})])),_:1})])),_:1},8,["onClick"]),1==u.globalConfig.sysInfo.inviteCode&&1==u.loginStore.userInfo.can_invite?(a(),l(h,{key:0,class:"cu-item",onClick:t[6]||(t[6]=e=>g.goPage("/pages/download/index"))},{default:i((()=>[o(h,{class:"content"},{default:i((()=>[o(A,{src:q,mode:"widthFix"}),o(v,null,{default:i((()=>[d("邀请好友")])),_:1})])),_:1})])),_:1})):_("",!0)])),_:1})])),_:1}),o(h,{class:"card-title"},{default:i((()=>[o(y,{type:"more-filled",size:"26",color:"#f2cd77",onClick:t[7]||(t[7]=t=>e.modelName="add")}),o(v,null,{default:i((()=>[d("我的任务")])),_:1}),o(y,{type:"more-filled",size:"26",color:"#f2cd77",onClick:t[8]||(t[8]=t=>e.modelName="add")})])),_:1}),o(h,{class:"menu-wrapper"},{default:i((()=>[o(h,{class:"cu-list menu"},{default:i((()=>[o(h,{class:"cu-item",onClick:t[9]||(t[9]=e=>g.goPage("/pages/activity/sign"))},{default:i((()=>[o(h,{class:"content"},{default:i((()=>[o(A,{src:"/assets/sign-BYnOITIZ.png",mode:"widthFix"}),o(v,null,{default:i((()=>[d("签到任务")])),_:1})])),_:1})])),_:1}),o(h,{class:"cu-item",onClick:t[10]||(t[10]=e=>g.goPage("/pages/activity/task"))},{default:i((()=>[o(h,{class:"content"},{default:i((()=>[o(A,{src:"/assets/online-CmLVuOws.png",mode:"widthFix"}),o(v,null,{default:i((()=>[d("在线任务")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["style"])}],["__scopeId","data-v-4676c8c6"]]),fe=y(v),pe=w(v),{unread:he,sysUnread:Ce}=I(fe);const Ae=e({components:{home:ee,videoTpl:te,message:ue,contacts:H,compass:re,mine:ge,mall:$},data(){let e=[{name:"home",title:"首页",notice:0},{name:"video",title:"影视",notice:0},{name:"mall",title:"商城",notice:0},{name:"message",title:"消息",notice:he},{name:"contacts",title:"通讯录",notice:Ce}],t={name:"compass",title:"发现",notice:0};pe.globalConfig&&pe.globalConfig.compass&&1==pe.globalConfig.compass.status&&e.push(t);return e.push({name:"mine",title:"我的",notice:0}),{globalConfig:pe.globalConfig,PageCur:"home",PageName:"首页",TabCur:0,modelName:!1,navList:e}},onLoad(){this.$nextTick((()=>{"1"==this.globalConfig.sysInfo.notice&&this.$refs.noticePop.open()}))},mounted(){G(),this.initContacts(),b("socketStatus",(e=>{e&&(console.log("触发了一次"),this.initContacts())})),M("initContacts"),b("initContacts",(e=>{this.initContacts()}))},methods:{closeNotice(){this.$refs.noticePop.close()},dialogConfirm(){x("firstLogin",!0),t({url:"/pages/mine/secure"})},closeModel(){this.modelName=!1},scan(){V.scanQr()},NavChange:function(e){e.name,this.PageCur=e.name,this.PageName=e.title},showContacts(){1==this.TabCur?this.TabCur=0:this.TabCur=1},initContacts(){this.modelName="",this.$api.msgApi.initContacts().then((e=>{fe.sysUnread=e.count,fe.initContacts(JSON.parse(JSON.stringify(e)).data)}))},addGroup(){t({url:"/pages/index/userSelection?type=1"})},addFriend(){t({url:"/pages/contacts/search"})},search(){const e="message"==this.PageCur?1:2;t({url:"/pages/index/search?type="+e})}}},[["render",function(e,t,r,g,h,A){const y=F(s("uni-icons"),Z),v=f,I=C,w=m,b=T("cu-custom"),Q=T("home"),S=T("video-tpl"),x=T("mall"),E=T("message"),B=T("contacts"),N=T("compass"),j=T("mine"),P=F(s("uni-popup-dialog"),Y),D=F(s("uni-popup"),O);return a(),l(v,null,{default:i((()=>["video"!==h.PageCur&&"mall"!==h.PageCur?(a(),l(b,{key:0,bgColor:"bg-video"},{backText:i((()=>["message"==h.PageCur?(a(),l(v,{key:0,class:"f-20 ml-10 mr-10"},{default:i((()=>[o(y,{type:"plus",size:"26",color:"#f2cd77",onClick:t[0]||(t[0]=e=>h.modelName="add")})])),_:1})):_("",!0)])),content:i((()=>["home"!==h.PageCur&&"video"!==h.PageCur?(a(),l(I,{key:0,class:"pageNameS"},{default:i((()=>[d(p(h.PageName),1)])),_:1})):_("",!0),"home"==h.PageCur?(a(),l(v,{key:1,class:"home-title"},{default:i((()=>[o(w,{src:h.globalConfig.sysInfo.logo},null,8,["src"]),o(I,null,{default:i((()=>[d(p(h.globalConfig.sysInfo.name),1)])),_:1})])),_:1})):_("",!0)])),right:i((()=>["message"==h.PageCur?(a(),l(v,{key:0,class:"f-20 ml-10 mr-10"},{default:i((()=>[o(y,{type:"search",size:"26",color:"#f2cd77",onClick:t[1]||(t[1]=e=>A.search())})])),_:1})):_("",!0)])),_:1})):_("",!0),o(v,null,{default:i((()=>["home"==h.PageCur?(a(),l(Q,{key:0})):_("",!0),"video"==h.PageCur?(a(),l(S,{key:1})):_("",!0),"mall"==h.PageCur?(a(),l(x,{key:2})):_("",!0),J(o(E,null,null,512),[[z,"message"==h.PageCur]]),J(o(B,{TabCur:h.TabCur},null,8,["TabCur"]),[[z,"contacts"==h.PageCur]]),"compass"==h.PageCur?(a(),l(N,{key:3})):_("",!0),"mine"==h.PageCur?(a(),l(j,{key:4})):_("",!0)])),_:1}),o(v,{class:"cu-bar tabbar bg-video shadow foot"},{default:i((()=>[(a(!0),n(u,null,c(h.navList,((e,t)=>(a(),l(v,{class:"action",onClick:t=>A.NavChange(e),key:t,"data-cur":"message"},{default:i((()=>[o(v,{class:"cuIcon-cu-image"},{default:i((()=>[o(w,{src:"/static/newtabbar/"+[e.name]+[h.PageCur==e.name?"-active":""]+".png"},null,8,["src"]),e.notice>0?(a(),l(v,{key:0,class:"cu-tag badge"},{default:i((()=>[d(p(e.notice),1)])),_:2},1024)):_("",!0)])),_:2},1024),o(v,{class:k(h.PageCur==e.name?"text-active":"text-disactive")},{default:i((()=>[d(p(e.title),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1}),o(v,{class:k(["cu-modal bottom-modal","add"==h.modelName?"show":""]),onClick:t[7]||(t[7]=e=>h.modelName="")},{default:i((()=>[o(v,{class:"cu-dialog"},{default:i((()=>[o(v,{class:"cu-list menu bg-video"},{default:i((()=>[o(v,{class:"cu-item",onClick:t[2]||(t[2]=e=>{A.initContacts()})},{default:i((()=>[o(v,{class:"content padding-tb-sm"},{default:i((()=>[o(I,{class:"cuIcon-refresh"}),o(I,null,{default:i((()=>[d("更新消息列表")])),_:1})])),_:1})])),_:1}),2==h.globalConfig.sysInfo.runMode?(a(),l(v,{key:0,class:"cu-item",onClick:t[3]||(t[3]=e=>A.addFriend())},{default:i((()=>[o(v,{class:"content padding-tb-sm"},{default:i((()=>[o(I,{class:"cuIcon-friendadd"}),o(I,null,{default:i((()=>[d("添加朋友")])),_:1})])),_:1})])),_:1})):_("",!0),o(v,{class:"cu-item",onClick:t[4]||(t[4]=e=>A.addGroup())},{default:i((()=>[o(v,{class:"content padding-tb-sm"},{default:i((()=>[o(I,{class:"cuIcon-friend"}),o(I,null,{default:i((()=>[d("创建群聊")])),_:1})])),_:1})])),_:1}),o(v,{class:"cu-item",onClick:t[5]||(t[5]=e=>A.scan())},{default:i((()=>[o(v,{class:"content padding-tb-sm"},{default:i((()=>[o(I,{class:"cuIcon-scan mr-10"}),o(I,null,{default:i((()=>[d("扫 一 扫")])),_:1})])),_:1})])),_:1}),o(v,{class:"cu-item",onClick:t[6]||(t[6]=e=>h.modelName="")},{default:i((()=>[o(v,{class:"content padding-tb-sm"},{default:i((()=>[o(I,{class:"c-red"},{default:i((()=>[d("取消")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["class"]),o(D,{ref:"alertDialog",type:"dialog"},{default:i((()=>[o(P,{type:"warn",cancelText:"关闭",confirmText:"好的",title:"通知",content:"为了你的账号安全,请及时修改登陆密码",onConfirm:A.dialogConfirm},null,8,["onConfirm"])])),_:1},512),o(D,{ref:"noticePop",class:"notice-pop","background-color":"#ffffff00","is-mask-click":!1},{default:i((()=>[o(v,{class:"notice-wrapper"},{default:i((()=>[o(v,{class:"notice-header"},{default:i((()=>[d(" 公告 ")])),_:1}),o(v,{class:"notice-content"},{default:i((()=>[o(w,{mode:"widthFix",src:h.globalConfig.sysInfo.noticeImage},null,8,["src"])])),_:1}),o(v,{class:"notice-close",onClick:A.closeNotice},{default:i((()=>[o(w,{src:"/assets/close-DfcoDaCt.png"})])),_:1},8,["onClick"])])),_:1})])),_:1},512)])),_:1})}],["__scopeId","data-v-937fa939"]]);export{Ae as default};
