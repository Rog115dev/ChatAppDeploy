import{_ as e,C as s,b as t,a,w as r,F as l,g as o,o as i,e as d,c,d as n,j as h,X as g,t as f,l as u}from"./index-CJuH9mEN.js";const _=e({data:()=>({isRefreshing:!1,records:[],page:1,limit:20,last_id:0}),onShow(){this.getLog()},methods:{getLog(){this.$api.msgApi.getCapitalLog({page:this.page,limit:this.limit,last_id:this.last_id}).then((e=>{0==e.code&&e.data.data.length>0&&(this.records=[...this.records,...e.data.data],this.records.length>0&&(this.last_id=this.records[this.records.length-1].id))}))},loadMore(){console.log("加载更多"),this.getLog()},onRefresh(){this.isRefreshing=!0,this.records=[],this.last_id=0,this.getLog(),setTimeout((()=>{this.isRefreshing=!1}),1e3)}}},[["render",function(e,_,m,p,y,k){const R=s("cu-custom"),b=h,w=o,x=g;return i(),t(l,null,[a(R,{bgColor:"bg-gradual-green",isBack:!0},{backText:r((()=>[])),content:r((()=>[d("流水记录")])),right:r((()=>[])),_:1}),a(w,{class:"container"},{default:r((()=>[a(x,{class:"record-list","scroll-y":"",onScrolltolower:k.loadMore,onRefresherrefresh:k.onRefresh,"refresher-enabled":"","refresher-triggered":y.isRefreshing},{default:r((()=>[y.records.length>0?(i(),c(w,{key:0},{default:r((()=>[(i(!0),t(l,null,n(y.records,((s,t)=>(i(),c(w,{class:"record-item",key:t,onClick:t=>e.viewDetail(s)},{default:r((()=>[a(w,{class:"record-row"},{default:r((()=>[a(b,{class:"time"},{default:r((()=>[d(f(s.create_time),1)])),_:2},1024),a(b,{class:u(["amount",s.money>=0?"income":"expense"])},{default:r((()=>[d(f(s.money>=0?"+":"")+"￥"+f(s.money),1)])),_:2},1032,["class"])])),_:2},1024),a(w,{class:"record-row"},{default:r((()=>[a(w,{class:"type-tag"},{default:r((()=>[a(b,null,{default:r((()=>[d(f(s.remark?s.remark:s.type),1)])),_:2},1024)])),_:2},1024),a(b,{class:"balance"},{default:r((()=>[d("余额: ￥"+f(s.user_money),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):(i(),c(w,{key:1,class:"empty-state"},{default:r((()=>[a(b,{class:"empty-text"},{default:r((()=>[d("暂无交易记录")])),_:1})])),_:1}))])),_:1},8,["onScrolltolower","onRefresherrefresh","refresher-triggered"])])),_:1})],64)}],["__scopeId","data-v-b69a8ff6"]]);export{_ as default};
