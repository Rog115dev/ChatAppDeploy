import{_ as a,x as t,n as s,C as e,c as l,w as c,g as o,o as d,a as n,e as u,t as i,f as r,b as p,d as h,F as y,m as g,j as m,ab as f}from"./index-BWCeDMGH.js";const _=a({name:"search",data:()=>({title:"搜索聊天",keywords:"",allContacts:[],contacts:[],groupList:[],type:1}),watch:{keywords(a){this.search()}},onLoad(a){this.type=a.type,2==this.type?this.title="搜索联系人":3==this.type?this.title="搜索群聊":this.title="搜索聊天"},mounted(){this.allContacts=t("allContacts")},methods:{search(){const a=this.$util.searchObject(this.allContacts,["displayName","name_py","account"],this.keywords),t=[],s=[];a.forEach((a=>{1==a.is_group?s.push(a):t.push(a)})),this.groupList=s,this.contacts=t},openDetails(a){2==this.type&&0==a.is_gourp&&s({url:"/pages/contacts/detail?id="+a.id}),s({url:"/pages/message/chat?id="+a.id})}}},[["render",function(a,t,s,_,k,C){const b=e("cu-custom"),x=m,v=f,w=o,L=e("Empty");return d(),l(w,null,{default:c((()=>[n(b,{bgColor:"bg-video",isBack:!0},{backText:c((()=>[])),content:c((()=>[u(i(k.title),1)])),_:1}),n(w,{class:"cu-bar bg-video search fixed",style:r([{top:a.CustomBar+"px"}])},{default:c((()=>[n(w,{class:"search-form round"},{default:c((()=>[n(x,{class:"cuIcon-search"}),n(v,{type:"text",modelValue:k.keywords,"onUpdate:modelValue":t[0]||(t[0]=a=>k.keywords=a),placeholder:"输入搜索的关键词","confirm-type":"search"},null,8,["modelValue"])])),_:1})])),_:1},8,["style"]),n(w,{style:{"margin-top":"120rpx"}},{default:c((()=>[k.type<3&&k.contacts.length>0?(d(),l(w,{key:0},{default:c((()=>[n(w,{class:"padding"},{default:c((()=>[u("联系人")])),_:1}),n(w,{class:"cu-list menu-avatar no-padding"},{default:c((()=>[(d(!0),p(y,null,h(k.contacts,((a,t)=>(d(),l(w,{class:"cu-item",key:t,onClick:t=>C.openDetails(a)},{default:c((()=>[n(w,{class:"cu-avatar lg radius mr-15",style:r([{backgroundImage:"url("+a.avatar+")"}])},null,8,["style"]),n(w,{class:"content"},{default:c((()=>[n(w,{class:"c-f2cd77"},{default:c((()=>[u(i(a.displayName),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):g("",!0),k.groupList.length>0?(d(),l(w,{key:1},{default:c((()=>[n(w,{class:"padding"},{default:c((()=>[u("群聊")])),_:1}),n(w,{class:"cu-list menu-avatar no-padding"},{default:c((()=>[(d(!0),p(y,null,h(k.groupList,((a,t)=>(d(),l(w,{class:"cu-item",key:t,onClick:t=>C.openDetails(a)},{default:c((()=>[n(w,{class:"cu-avatar lg radius mr-15",style:r([{backgroundImage:"url("+a.avatar+")"}])},null,8,["style"]),n(w,{class:"content"},{default:c((()=>[n(w,{class:"c-f2cd77"},{default:c((()=>[u(i(a.displayName),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):g("",!0),k.groupList.length||k.contacts.length?g("",!0):(d(),l(w,{key:2},{default:c((()=>[n(L,{noDatatext:"暂无数据",textcolor:"#999"})])),_:1}))])),_:1})])),_:1})}],["__scopeId","data-v-07651556"]]);export{_ as default};
