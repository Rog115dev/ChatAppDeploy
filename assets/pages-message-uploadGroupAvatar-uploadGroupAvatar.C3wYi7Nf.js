import{_ as a,A as t,a5 as s,x as e,B as r,G as i,v as o,a4 as l,C as u,b as d,a as n,w as p,F as c,g,o as h,e as m,j as f,at as x}from"./index-CDOpH1f_.js";import{a as v}from"./yq-avatar.B3KTsjOA.js";const _=a({components:{avatar:v},data:()=>({avatar:"",group_id:0}),onLoad(a){this.avatar=a.avatar,this.group_id=a.group_id},methods:{uploadAvatar(a){t({title:"上传中..."}),s({url:this.$api.msgApi.uploadGroupAvatar,filePath:a.path,name:"file",header:{Authorization:e("authToken")},formData:{ext:"png",group_id:this.group_id},success:a=>{r();let t=JSON.parse(a.data);0==t.code&&(i({title:t.msg,icon:"none"}),this.avatar=t.data,o("initContacts"),l({delta:1}))},fail:a=>{r()}})}}},[["render",function(a,t,s,e,r,i){const o=u("cu-custom"),l=g,v=u("avatar"),_=f,A=x;return h(),d(c,null,[n(o,{bgColor:"bg-gradual-green",isBack:!0},{backText:p((()=>[])),content:p((()=>[m("修改群头像")])),right:p((()=>[])),_:1}),n(l,null,{default:p((()=>[n(A,null,{default:p((()=>[n(l,{class:"cu-form-group",style:{height:"140rpx"}},{default:p((()=>[n(l,{class:"title"},{default:p((()=>[m("群头像")])),_:1}),n(l,{class:"im-flex im-align-items-center"},{default:p((()=>[n(v,{selWidth:"240px",selHeight:"480upx",expWidth:"240px",expHeight:"240px",onUpload:i.uploadAvatar,avatarSrc:r.avatar,avatarStyle:"width: 100rpx; height: 100rpx; border-radius: 100%;",quality:1},null,8,["onUpload","avatarSrc"]),n(_,{class:"cuIcon-right ml-10 f-18 text-grey"})])),_:1})])),_:1})])),_:1})])),_:1})],64)}]]);export{_ as default};
