import{_ as a,u as e,s,G as t,a4 as o,C as i,r as d,c,w as l,g as n,o as u,a as b,e as r,a7 as p,j as h}from"./index-CJuH9mEN.js";import{a as m}from"./uni-data-checkbox.BmvHqR4_.js";import{r as g}from"./uni-app.es.D-0kRCo3.js";const _=e(s);const f=a({data:()=>({labels:[],checkbox3:[],user_id:0}),onLoad({id:a}){this.getLabels(),this.user_id=a,this.$api.msgApi.getUserInfo({user_id:a}).then((a=>{0==a.code&&(this.checkbox3=a.data.friend.tags)}))},methods:{getLabels(){this.$api.msgApi.getLabels().then((a=>{0==a.code&&(this.labels=a.data.map((a=>({text:a.name,value:a.id}))))}))},updateLabel(){this.$api.friendApi.setLabel({friend_id:this.user_id,tags:this.checkbox3}).then((a=>{0==a.code&&(_.updateContacts({id:this.user_id,tags:this.checkbox3}),t({title:a.msg,icon:"none"}),setTimeout((()=>{o({delta:1})}),1e3))}))}}},[["render",function(a,e,s,t,o,_){const f=h,x=i("cu-custom"),k=g(d("uni-data-checkbox"),m),L=n;return u(),c(L,{class:"con"},{default:l((()=>[b(x,{bgColor:"bg-video",isBack:!0},{backText:l((()=>[])),content:l((()=>[b(f,{class:"pageNameS"},{default:l((()=>[r("标签更新")])),_:1})])),_:1}),b(L,{class:"uni-px-5 uni-pb-5"},{default:l((()=>[b(k,{mode:"tag",multiple:"",modelValue:o.checkbox3,"onUpdate:modelValue":e[0]||(e[0]=a=>o.checkbox3=a),localdata:o.labels},null,8,["modelValue","localdata"])])),_:1}),b(L,{class:"bottom-bar"},{default:l((()=>[p("uni-button",{type:"primary",onClick:e[1]||(e[1]=(...a)=>_.updateLabel&&_.updateLabel(...a))},"保存")])),_:1})])),_:1})}],["__scopeId","data-v-064cc1ab"]]);export{f as default};
