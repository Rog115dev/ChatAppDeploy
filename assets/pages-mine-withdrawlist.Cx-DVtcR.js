import{_ as s}from"./uni-icons.QhmNVcfb.js";import{_ as e,C as t,r as a,b as r,a as i,w as l,F as o,g as d,o as c,e as n,c as h,d as u,X as f,t as g,l as _,m}from"./index-CDOpH1f_.js";import{r as p}from"./uni-app.es.DwBKReRU.js";const y=e({data:()=>({page:1,limit:20,last_id:0,records:[],isRefreshing:!1}),onLoad(){this.getList()},methods:{getList(){this.$api.msgApi.withdrawList({page:this.page,limit:this.limit,last_id:this.last_id}).then((s=>{0==s.code&&s.data.data.length>0&&(this.records=[...this.records,...s.data.data],this.records.length>0&&(this.last_id=this.records[this.records.length-1].id))}))},getStatusText:s=>["处理中","充值成功","充值失败"][s],onRefresh(){this.isRefreshing=!0,this.records=[],this.last_id=0,this.getList(),setTimeout((()=>{this.isRefreshing=!1}),1e3)},loadMore(){this.getList()}}},[["render",function(e,y,R,k,x,L){const b=t("cu-custom"),w=p(a("uni-icons"),s),S=d,T=f;return c(),r(o,null,[i(b,{bgColor:"bg-gradual-green",isBack:!0},{backText:l((()=>[])),content:l((()=>[n("提现记录")])),right:l((()=>[])),_:1}),i(S,{class:"container"},{default:l((()=>[i(T,{class:"content","scroll-y":"","refresher-enabled":"","refresher-triggered":x.isRefreshing,onRefresherrefresh:L.onRefresh,onScrolltolower:L.loadMore},{default:l((()=>[0===x.records.length?(c(),h(S,{key:0,class:"empty-state"},{default:l((()=>[i(w,{type:"spinner-cycle",size:"60",color:"#999"}),i(S,{class:"empty-text"},{default:l((()=>[n("暂无提现记录")])),_:1})])),_:1})):(c(),h(S,{key:1,class:"record-list"},{default:l((()=>[(c(!0),r(o,null,u(x.records,((s,e)=>(c(),h(S,{key:e,class:"record-card"},{default:l((()=>[i(S,{class:"card-content"},{default:l((()=>[i(S,{class:"left-content"},{default:l((()=>[i(S,{class:"amount"},{default:l((()=>[n("¥"+g(s.money),1)])),_:2},1024),i(S,{class:"type"},{default:l((()=>[n(g(s.type),1)])),_:2},1024),i(S,{class:"time"},{default:l((()=>[n(g(s.create_time),1)])),_:2},1024)])),_:2},1024),i(S,{class:_(["status",`status-${s.status}`])},{default:l((()=>[n(g(L.getStatusText(s.status))+" ",1),2==s.status?(c(),h(S,{key:0,class:"reason"},{default:l((()=>[n(g(s.remark),1)])),_:2},1024)):m("",!0)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}))])),_:1},8,["refresher-triggered","onRefresherrefresh","onScrolltolower"])])),_:1})],64)}],["__scopeId","data-v-a676743d"]]);export{y as default};
